<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="phacochr">
<title>Géocodage anonymisé • phacochr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Géocodage anonymisé">
<meta property="og:description" content="phacochr">
<meta property="og:image" content="https://phacochr.github.io/phacochr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">phacochr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_phacochr.html">Structure et mise à jour des données BeST</a>
    <a class="dropdown-item" href="../articles/anonymous_geocoding.html">Géocodage anonymisé</a>
    <a class="dropdown-item" href="../articles/performances.html">Performances et fiabilité</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/shiny_app.html">Géocoder</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/phacochr/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Géocodage anonymisé</h1>
            
      
      <small class="dont-index">Source: <a href="NA/NA/NA/blob/HEAD/vignettes/anonymous_geocoding.Rmd"><code>vignettes/anonymous_geocoding.Rmd</code></a></small>
      <div class="d-none name"><code>anonymous_geocoding.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="géocodage-au-secteur-statistique">Géocodage au secteur statistique<a class="anchor" aria-label="anchor" href="#g%C3%A9ocodage-au-secteur-statistique"></a>
</h2>
<p><code>phacochr</code> a d’abord été pensé pour fonctionner en local :
il devait donc être léger, rapide et portable. Cette spécificité permet
notamment de géocoder des données sensibles qui ne peuvent pas être
envoyées sur un serveur via une API de géocodage. Des options
supplémentaires ont de ce fait été intégrées afin d’anonymiser les
données qui lui sont passées. Nous en montrons un exemple sur cette
page.</p>
<p>Partons des <a href="https://phacochr.github.io/phacochr/reference/snacks.html">données
d’exemples <code>snacks</code></a> contenues dans <code>phacochr</code>,
et imaginons que nous voulons produire une information spatiale un tant
soi peu précise à partir de ces données, mais en ne donnant pas
d’indication de l’adresse. La fonction <code><a href="../reference/phaco_geocode.html">phaco_geocode()</a></code> doit
alors prendre l’argument <code>anonymous = TRUE</code> (par défaut réglé
sur <code>FALSE</code>):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://phacochr.github.io/phacochr/">phacochr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_anonym</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phaco_geocode.html">phaco_geocode</a></span><span class="op">(</span>data_to_geocode <span class="op">=</span> <span class="va">snacks</span>,</span>
<span>                               colonne_num <span class="op">=</span> <span class="st">"num"</span>,</span>
<span>                               colonne_rue <span class="op">=</span> <span class="st">"rue"</span>,</span>
<span>                               colonne_code_postal <span class="op">=</span> <span class="st">"code_postal"</span>,</span>
<span>                               anonymous <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Cette option a la particularité de produire des coordonnées X-Y qui
ne sont pas celles de l’adresse, mais du centroïde du secteur
statistique où se trouve celle-ci (les données des entités
administratives - secteurs statistiques, communes… - sont quant à elles
ajoutées sans changement). Toutes les informations relatives à l’adresse
précise ne sont pas renseignées dans le résultat : la rue détectée, son
identifiant, les corrections orthographiques éventuellement apportées,
le numéro de la rue BeST avec lequel la jointure est réalisée, la langue
d’écriture de la rue… Les colonnes fournies en entrée sont également
supprimées : dans cet exemple, les colonnes de la base de données
originale contenant la rue et le numéro (<code>rue</code> et
<code>num</code>) ne sont pas reprises dans les résultats. Cette
suppression permet de produire rapidement un résultat géolocalisé au
niveau du secteur statistique, tout en étant anonymisé. Autrement dit,
cette option permet que la géolocalisation et l’adresse ne cohabitent
jamais dans le même fichier.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"num"</span>, <span class="st">"rue"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">result_anonym</span><span class="op">$</span><span class="va">data_geocoded</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cartographie-anonymisée">Cartographie anonymisée<a class="anchor" aria-label="anchor" href="#cartographie-anonymis%C3%A9e"></a>
</h2>
<p>Lorsque cette option est enclenchée, une nouvelle colonne
<code>phaco_anonymous</code> est ajoutée au résultat. La présence de
cette colonne indique à la fonction <code><a href="../reference/phaco_map_s.html">phaco_map_s()</a></code> que
celle-ci doit changer sa manière de cartographier les résultats. Dans la
mesure où les adresses sont localisées au centroïde du secteur
statistique, les points se superposeraient dans la cartographie
classiquement prévue par <code><a href="../reference/phaco_map_s.html">phaco_map_s()</a></code>. Dans le cas d’une
anonymisation, ce sont alors des cercles de taille proportionnelle au
nombre d’adresses localisées dans le secteur statistique qui sont
affichées. L’anonymisation n’empêche donc pas une cartographie
exploratoire rapide des résultats :</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phaco_map_s.html">phaco_map_s</a></span><span class="op">(</span><span class="va">result_anonym</span><span class="op">$</span><span class="va">data_geocoded_sf</span>,</span>
<span>            title_carto <span class="op">=</span> <span class="st">"Snacks à Bruxelles (anonymisés)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="anonymous_geocoding_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joel Gires, Hugo Perilleux.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
