[{"path":"https://phacochr.github.io/phacochr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joel Gires. Author, maintainer. Hugo Perilleux. Author.","code":""},{"path":"https://phacochr.github.io/phacochr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gires J, Perilleux H (2022). phacochr: Geocodeur belge. R package version 0.7.5.","code":"@Manual{,   title = {phacochr: Geocodeur belge},   author = {Joel Gires and Hugo Perilleux},   year = {2022},   note = {R package version 0.7.5}, }"},{"path":"https://phacochr.github.io/phacochr/index.html","id":"phacochr-","dir":"","previous_headings":"","what":"Geocodeur belge","title":"Geocodeur belge","text":"PhacochR est un géocodeur pour la Belgique sous forme de package R. partir d’une liste d’adresses, il permet de retrouver les coordonnées X-Y nécessaires à toute analyse spatiale. Le programme fonctionne à partir des données publiques BeST Address compilées par BOSA à partir des données régionales URBIS (Région de Bruxelles-Capitale), CRAB (Région flamande) et ICAR (Région wallonne). La logique de phacochR est de réaliser une jointure inexacte entre la liste à géocoder et les données BeST Address (grâce aux packages R fuzzyjoin et stringdist). PhacochR dispose également de plusieurs options : il réalise des corrections orthographiques préalables (en français et néérlandais) et trouve le numéro le plus proche - de préférence du même côté de la rue - si les coordonnées du numéro indiqué sont inconnues. PhacochR est compatible avec les 3 langues nationales : il géocode des adresses écrites en français, néérlandais et allemand. Le package est très rapide (+/- 1min40 pour géocoder 20.000 adresses dans les 3 langues et situées dans toute la Belgique) et le taux de succès pour le géocodage est élevé (en moyenne 90-95%). Phacochr constitue donc une alternative très performante face aux solutions existantes tout en reposant entièrement sur des données publiques et des procédures libres.","code":""},{"path":"https://phacochr.github.io/phacochr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Geocodeur belge","text":"Vous pouvez installer le package phacochr depuis GitHub. Il est indispensable lors de la première utilisation d’installer les données nécessaires au géocodage via la fonction phaco_setup_data(). Ces fichiers sont stockés de manière permanente dans un répertoire de travail sur l’ordinateur. Il est possible pour l’utilisateur de mettre à jour lui-même les données BeST Address (actualisées de manière hebdomadaire par BOSA) vers les dernières données disponibles en ligne avec la fonction phaco_update() :","code":"# install.packages(\"devtools\") library(devtools) devtools::install_github(\"phacochr/phacochr\")  library(phacochr) # Pour installer les données phaco_setup_data() phaco_update()"},{"path":"https://phacochr.github.io/phacochr/index.html","id":"exemple","dir":"","previous_headings":"","what":"Exemple","title":"Geocodeur belge","text":"Voici un exemple basé sur un data.frame contenant deux adresses : Le géocodage se lance simplement avec la fonction phaco_geocode() sur ce data.frame. Le numéro de la rue et le code postal sont des informations nécessaires mais elles peuvent être intégrées au champ adresse - il ne faut alors indiquer que la rue. La performance du géocodage sera cependant légèrement meilleure si tous les champs sont séparés. Le package dispose également de fonctions de cartographie des adresses géocodées. phaco_map_s() produit des cartes statiques : il suffit de passer à la fonction l’objet data_geocoded_sf créé précédemment par phaco_geocode(). La fonction dessine alors les coordonnées des adresses sur une carte dont les frontières administratives sont également affichées. Si les adresses se restreignent à Bruxelles, la carte se limite automatiquement à la Région bruxelloise.  La fonction phaco_map_i() produit quant à elle des cartes interactives :","code":"x <- data.frame(nom= c(\"Observatoire de la Santé et du Social\", \"ULB\"),                 rue= c(\"rue Belliard\",\"avenue Antoine Depage\"),                 num=c(\"71\", \"30\"),                 code_postal=c(\"1040\",\"1000\")) x #>                                     nom                   rue num code_postal #> 1 Observatoire de la Santé et du Social          rue Belliard  71        1040 #> 2                                   ULB avenue Antoine Depage  30        1000 result <- phaco_geocode(data_to_geocode = x,                         colonne_rue= \"rue\",                         colonne_num_rue= \"num\",                         colonne_code_postal=\"code_postal\") result$data_geocoded [,c(1,17:19)] #>   ID_address x_31370 y_31370 cd_sector #> 1          1  150373  170090 21004B13- #> 2          2  151105  166831 21004C61- phaco_map_s(result$data_geocoded_sf) phaco_map_i(result$data_geocoded_sf) #> tmap mode set to interactive viewing"},{"path":[]},{"path":[]},{"path":"https://phacochr.github.io/phacochr/reference/phaco_best_data_update.html","id":null,"dir":"Reference","previous_headings":"","what":"phaco_best_data_update — phaco_best_data_update","title":"phaco_best_data_update — phaco_best_data_update","text":"phaco_best_data_update","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_best_data_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"phaco_best_data_update — phaco_best_data_update","text":"","code":"phaco_best_data_update(force = FALSE)"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_best_data_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"phaco_best_data_update — phaco_best_data_update","text":"force force le update meme si les donnees sont jour","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_best_data_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"phaco_best_data_update — phaco_best_data_update","text":"","code":"phaco_best_data_update() #>  -- Mise à jour des données BeST pour PhacochR -- #> ✔ Les fichiers openaddress ont moins d'une semaine : mise à jour non nécessaire"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_geocode.html","id":null,"dir":"Reference","previous_headings":"","what":"phaco_geocode : geocodeur pour la Belgique — phaco_geocode","title":"phaco_geocode : geocodeur pour la Belgique — phaco_geocode","text":"phaco_geocode est la fonction principale du package phacochr.  partir d’une liste d’adresses, elle permet de retrouver les coordonnees X-Y.","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_geocode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"phaco_geocode : geocodeur pour la Belgique — phaco_geocode","text":"","code":"phaco_geocode(   data_to_geocode,   colonne_rue,   colonne_num_rue = NULL,   colonne_code_postal = NULL,   method_stringdist = \"lcs\",   corrections_REGEX = TRUE,   error_max = 4,   approx_num_max = 50,   elargissement_com_adj = TRUE,   lang_encoded = c(\"FR\", \"NL\", \"DE\") )"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_geocode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"phaco_geocode : geocodeur pour la Belgique — phaco_geocode","text":"data_to_geocode un dataframe avec les adresses geocoder colonne_rue nom de la colonne avec les rues colonne_num_rue nom de la colonne avec les numéros colonne_code_postal nom de la colonne avec les codes postaux method_stringdist Méthode pour la jointure inexacte. Par défaut: \"lcs\". Choix possibles: \"osa\", \"lv\", \"dl\", \"hamming\", \"lcs\", \"qgram\", \"cosine\", \"jaccard\", \"jw\",\"soundex\". corrections_REGEX Correction orthographique. Par défaut: TRUE error_max Nombre maximal d'erreurs entre le nom de la rue trouver et le nom de la rue dans la base de donnée de référence (BeST). Par défaut: TRUE approx_num_max Nombre de numéros d'écart maximum si le numéro n'pas été trouve. Par défaut: 50 elargissement_com_adj Élargissement aux communes limitrophes. Par défaut: TRUE lang_encoded Langue utilisée pour encoder les noms de rue. Par défaut: c(\"FR\", \"NL\", \"DE\")","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_geocode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"phaco_geocode : geocodeur pour la Belgique — phaco_geocode","text":"","code":"x <- data.frame(nom = c(paste0(\"Observatoire de la Sant\",\"\\u00e9\",\" et du Social\"), \"ULB\"), rue = c(\"rue Belliard\",\"avenue Antoine Depage\"), num = c(\"71\", \"30\"), code_postal = c(\"1040\",\"1000\"))  result <- phaco_geocode(data_to_geocode = x, colonne_rue = \"rue\", colonne_num_rue = \"num\", colonne_code_postal = \"code_postal\") #> --- PhacochR --- #> -- Formatage des données #> ℹ Région(s) détectée(s) : Bruxelles #> ⧗ Correction orthographique des adresses ✔ Correction orthographique des adresses #> -- Géocodage #> ⧗ Paramétrage pour utiliser 7 coeurs de l'ordinateur ✔ Paramétrage pour utiliser 7 coeurs de l'ordinateur #> ⧗ Détection des rues (matching inexact avec fuzzyjoin) ✔ Détection des rues (matching inexact avec fuzzyjoin) #> ⧗ Élargissement pour les rues non trouvées aux communes adjacentes ✔ Élargissement pour les rues non trouvées aux communes adjacentes #> ⧗ Chargement du fichier openaddress ✔ Chargement du fichier openaddress  #> ⧗ Jointure avec les coordonnées X-Y ✔ Jointure avec les coordonnées X-Y #> ⧗ Approximation à + ou - 100 numéros pour les adresses non localisées ✔ Approximation à + ou - 100 numéros pour les adresses non localisées #> -- Résultats #> ⧗ Création du fichier final et formatage des tables de vérification ✔ Création du fichier final et formatage des tables de vérification #> ✔ Géocodage terminé #> ℹ Statistiques concernant le géocodage: #>  #> |Region    |  n| Rue detect.(%) | Approx. num(n) | Elarg. com.(n) | Abrev. noms(n) | Geocode(%) | #> |:---------|--:|:--------------:|:--------------:|:--------------:|:--------------:|:----------:| #> |Bruxelles |  2|      100       |       0        |       0        |       0        |    100     | #> |Total     |  2|      100       |       0        |       0        |       0        |    100     | #>  #> ℹ Temps de calcul total : 12.8 s #>               #> /!\\ Toutes les adresses n'ont pas été trouvées avec certitude /!\\ #> - check 'dist_fuzzy' pour les erreurs de reconnaissance des rues #> - check 'approx_num' pour les approximations de numéro #> - check 'type_geocoding' pour l'éargissement aux communes adjacentes #> - check 'nom_propre_abv' pour les abréviations de noms propres #>               #> -- Plus de résultats: #> → Tableau synthétique : $summary #> → Données géocodées : $data_geocoded #> → Données géocodées en format sf : $data_geocoded_sf"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_map_s.html","id":null,"dir":"Reference","previous_headings":"","what":"phaco_map_s — phaco_map_s","title":"phaco_map_s — phaco_map_s","text":"phaco_map_s","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_map_s.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"phaco_map_s — phaco_map_s","text":"","code":"phaco_map_s(   FULL_GEOCODING_sf,   colonne_ponderation = NULL,   title_carto = paste0(\"adresses geocodees\"),   filter_bxl = FALSE,   zoom_geocoded = FALSE,   nom_admin = TRUE )"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_map_s.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"phaco_map_s — phaco_map_s","text":"FULL_GEOCODING_sf un objet sf cartographier colonne_ponderation un poids pour les points cartographier title_carto le titre de la carte produite filter_bxl afficher uniquement bruxelles zoom_geocoded zoomer sur les points nom_admin afficher les noms des entites administratives","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_setup_data.html","id":null,"dir":"Reference","previous_headings":"","what":"phaco_setup_data — phaco_setup_data","title":"phaco_setup_data — phaco_setup_data","text":"phaco_setup_data","code":""},{"path":"https://phacochr.github.io/phacochr/reference/phaco_setup_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"phaco_setup_data — phaco_setup_data","text":"","code":"phaco_setup_data()"},{"path":"https://phacochr.github.io/phacochr/reference/phaco_setup_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"phaco_setup_data — phaco_setup_data","text":"","code":"phaco_setup_data() #>  -- Chargement des données pour PhacochR -- #> ✔ Création du dossier : ~/.local/share/phacochr/data_phacochr #> ⧗ Téléchargement des données ... #>  ✔ Téléchargement des données #> ⧗ Décompression des données ✔ Décompression des données #> ✔ Importation des données OK: PhacochR prêt à géocoder."}]
